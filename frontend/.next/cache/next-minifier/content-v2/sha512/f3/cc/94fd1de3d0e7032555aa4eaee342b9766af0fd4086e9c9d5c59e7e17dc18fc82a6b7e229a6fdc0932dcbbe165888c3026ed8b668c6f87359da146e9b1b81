{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{NhoZ:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"default\",(function(){return x}));var r=t(\"nKUr\"),o=t(\"jT3O\"),c=t(\"VX74\"),i=t(\"lTCR\"),a=t.n(i),u=t(\"vOnD\").a.table.withConfig({displayName:\"Table\",componentId:\"gte3lw-0\"})([\"border-spacing:0;width:100%;border:1px solid var(--offWhite);thead{font-size:10px;}td,th{border:1px solid #ddd;padding:8px;}tr:nth-child(even){background-color:#f2f2f2;}tr{&:hover{background-color:#ddd;}}th{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#4caf50;color:white;}\"]),s=t(\"YFqc\"),l=t.n(s),d=t(\"xvhg\");function f(){var e=Object(o.a)([\"\\n  mutation DELETE_USER_MUTATION($id: ID!) {\\n    deleteUser(id: $id) {\\n      id\\n      name\\n    }\\n  }\\n\"]);return f=function(){return e},e}var h=a()(f());function p(e,n){console.log(n),console.log(\"running the update function after delete\"),e.evict(e.identify(n.data.deleteUser))}function b(e){var n=e.id,t=e.children,o=Object(c.useMutation)(h,{variables:{id:n},update:p}),i=Object(d.a)(o,2),a=i[0],u=i[1].loading;return Object(r.jsx)(\"button\",{type:\"button\",disabled:u,onClick:function(){confirm(\"Are you sure, you want to delete this user? \")&&a().catch((function(e){return alert(e.message)}))},children:t})}function j(e){var n=e.user;return Object(r.jsxs)(u,{children:[Object(r.jsxs)(\"tr\",{children:[Object(r.jsx)(\"th\",{children:\"Name\"}),Object(r.jsx)(\"th\",{children:\"Email\"}),Object(r.jsx)(\"th\",{children:\"Id\"}),Object(r.jsx)(\"th\",{children:\"Phone Number\"}),Object(r.jsx)(\"th\",{children:\"Actions\"})]}),Object(r.jsxs)(\"tr\",{children:[Object(r.jsx)(\"td\",{children:Object(r.jsx)(l.a,{href:\"/user/\".concat(n.id),children:n.name})}),Object(r.jsx)(\"td\",{children:n.email}),Object(r.jsx)(\"td\",{children:n.id}),Object(r.jsx)(\"td\",{children:n.phoneNumber}),Object(r.jsx)(\"td\",{children:Object(r.jsxs)(\"div\",{className:\"buttonList\",children:[Object(r.jsx)(l.a,{href:{pathname:\"/update\",query:{id:n.id}},children:\"\\u270f\\ufe0f\"}),\"(...)\",Object(r.jsx)(b,{id:n.id,children:\"Delete \"})]})})]})]})}function v(){var e=Object(o.a)([\"\\n  query ALL_USERS_QUERY {\\n    allUsers {\\n      id\\n      name\\n      email\\n      phoneNumber\\n    }\\n  }\\n\"]);return v=function(){return e},e}var O=a()(v());function g(){var e=Object(c.useQuery)(O),n=e.data,t=e.error;return e.loading?Object(r.jsx)(\"p\",{children:\"Loading...\"}):t?Object(r.jsxs)(\"p\",{children:[\"Error : \",t.message]}):(console.log(n),Object(r.jsx)(\"div\",{children:n.allUsers.map((function(e){return Object(r.jsx)(j,{user:e},e.id)}))}))}function x(){return Object(r.jsx)(\"div\",{children:Object(r.jsx)(g,{})})}},URgp:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/users\",function(){return t(\"NhoZ\")}])},YFqc:function(e,n,t){e.exports=t(\"cTJO\")},cTJO:function(e,n,t){\"use strict\";var r=t(\"zoAU\"),o=t(\"7KCV\");n.__esModule=!0,n.default=void 0;var c=o(t(\"q1tI\")),i=t(\"elyg\"),a=t(\"nOHt\"),u=t(\"vNVm\"),s={};function l(e,n,t,r){if((0,i.isLocalURL)(n)){e.prefetch(n,t,r).catch((function(e){0}));var o=r&&\"undefined\"!==typeof r.locale?r.locale:e&&e.locale;s[n+\"%\"+t+(o?\"%\"+o:\"\")]=!0}}var d=function(e){var n=!1!==e.prefetch,t=(0,a.useRouter)(),o=t&&t.pathname||\"/\",d=c.default.useMemo((function(){var n=(0,i.resolveHref)(o,e.href,!0),t=r(n,2),c=t[0],a=t[1];return{href:c,as:e.as?(0,i.resolveHref)(o,e.as):a||c}}),[o,e.href,e.as]),f=d.href,h=d.as,p=e.children,b=e.replace,j=e.shallow,v=e.scroll,O=e.locale;\"string\"===typeof p&&(p=c.default.createElement(\"a\",null,p));var g=c.Children.only(p),x=g&&\"object\"===typeof g&&g.ref,m=(0,u.useIntersection)({rootMargin:\"200px\"}),y=r(m,2),E=y[0],w=y[1],_=c.default.useCallback((function(e){E(e),x&&(\"function\"===typeof x?x(e):\"object\"===typeof x&&(x.current=e))}),[x,E]);(0,c.useEffect)((function(){var e=w&&n&&(0,i.isLocalURL)(f),r=\"undefined\"!==typeof O?O:t&&t.locale,o=s[f+\"%\"+h+(r?\"%\"+r:\"\")];e&&!o&&l(t,f,h,{locale:r})}),[h,f,w,O,n,t]);var N={ref:_,onClick:function(e){g.props&&\"function\"===typeof g.props.onClick&&g.props.onClick(e),e.defaultPrevented||function(e,n,t,r,o,c,a,u){(\"A\"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&\"_self\"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,i.isLocalURL)(t))&&(e.preventDefault(),null==a&&(a=r.indexOf(\"#\")<0),n[o?\"replace\":\"push\"](t,r,{shallow:c,locale:u}).then((function(e){e&&a&&(window.scrollTo(0,0),document.body.focus())})))}(e,t,f,h,b,j,v,O)},onMouseEnter:function(e){(0,i.isLocalURL)(f)&&(g.props&&\"function\"===typeof g.props.onMouseEnter&&g.props.onMouseEnter(e),l(t,f,h,{priority:!0}))}};return(e.passHref||\"a\"===g.type&&!(\"href\"in g.props))&&(N.href=(0,i.addBasePath)((0,i.addLocale)(h,\"undefined\"!==typeof O?O:t&&t.locale,t&&t.defaultLocale))),c.default.cloneElement(g,N)};n.default=d},vNVm:function(e,n,t){\"use strict\";var r=t(\"zoAU\"),o=t(\"AroE\");n.__esModule=!0,n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!a,o=(0,c.useRef)(),s=(0,c.useState)(!1),l=r(s,2),d=l[0],f=l[1],h=(0,c.useCallback)((function(e){o.current&&(o.current(),o.current=void 0),t||d||e&&e.tagName&&(o.current=function(e,n,t){var r=function(e){var n=e.rootMargin||\"\",t=u.get(n);if(t)return t;var r=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return u.set(n,t={id:n,observer:o,elements:r}),t}(t),o=r.id,c=r.observer,i=r.elements;return i.set(e,n),c.observe(e),function(){c.unobserve(e),0===i.size&&(c.disconnect(),u.delete(o))}}(e,(function(e){return e&&f(e)}),{rootMargin:n}))}),[t,n,d]);return(0,c.useEffect)((function(){a||d||(0,i.default)((function(){return f(!0)}))}),[d]),[h,d]};var c=t(\"q1tI\"),i=o(t(\"0G5g\")),a=\"undefined\"!==typeof IntersectionObserver;var u=new Map}},[[\"URgp\",0,1,2,3,4,5]]]);","extractedComments":[]}